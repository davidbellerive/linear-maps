<div class="mapwrap" style="overflow-x:auto; max-width:100%; touch-action:none;">
  <img
    src="https://raw.githubusercontent.com/davidbellerive/linear-maps/main/rfc-maps/Toronto%20Transit%20Commission/Line%202%20%E2%80%93%20Bloor%E2%80%93Danforth%201980.svg"
    alt="TTC Line 2 — Bloor–Danforth (1980)"
    style="display:block; width:1100px; max-width:none; height:auto;"
    loading="lazy"
    decoding="async">
</div>

<div class="mapcontrols" style="margin-top:8px; display:flex; gap:8px;">
  <button type="button" data-dir="-1">◀</button>
  <button type="button" data-dir="1">▶</button>
</div>

<script>
(function(){
  var wrap = document.querySelector('.mapwrap');
  var controls = document.querySelector('.mapcontrols');
  if (!wrap || !controls) return;

  function update(){
    controls.style.display =
      wrap.scrollWidth > wrap.clientWidth + 2 ? 'flex' : 'none';
  }

  controls.addEventListener('click', function(e){
    if (!e.target.dataset.dir) return;
    wrap.scrollBy({
      left: parseInt(e.target.dataset.dir,10) * 400,
      behavior: 'smooth'
    });
  });

  var img = wrap.querySelector('img');
  if (img) img.addEventListener('load', update);
  window.addEventListener('resize', update);
  update();

  // Disable touch panning inside map area (buttons-only UX)
  wrap.addEventListener('touchmove', function(e){
    e.preventDefault();
  }, { passive:false });
})();
</script>
